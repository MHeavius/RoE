<Items>

<!-- WEAPONS -->

<Item name="" identifier="roeACR" category="Weapon" cargocontaineridentifier="metalcrate" subcategory="Weapon" allowasextracargo="true" tags="mediumitem,weapon,gun,gunsmith,mountableweapon" Scale="0.4" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="secarmcab" secondary="armcab,weaponholder"/>
    <Price baseprice="720" sold="false">
        <Price storeidentifier="merchantoutpost" multiplier="1.5" />
        <Price storeidentifier="merchantcity" multiplier="1.25" />
        <Price storeidentifier="merchantresearch" multiplier="1.25" />
        <Price storeidentifier="merchantmilitary" multiplier="0.9" />
        <Price storeidentifier="merchantmine" multiplier="1.25" />
    </Price>
    <Fabricate suitablefabricators="fabricator" requiredtime="75" >
        <RequiredSkill identifier="weapons" level="65" />
        <RequiredItem identifier="titaniumaluminiumalloy" amount="3" />
        <RequiredItem identifier="steel" amount="2" />
    </Fabricate>
    <Deconstruct time="35">
        <Item identifier="titaniumaluminiumalloy" amount="2" />
        <Item identifier="steel" />
    </Deconstruct>
    <InventoryIcon texture="%ModDir%/Items/Icons.png" sourcerect="0,384,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Items/Weapons.png" sourcerect="0,164,290,72" depth="0.55" origin="0.5,0.5" />
    <Body width="290" height="72" density="25" />
    <Holdable slots="RightHand+LeftHand" controlpose="true" holdpos="50,-18" aimpos="55,5" handle1="-55,-25" handle2="50,18" holdangle="-28">
        <StatusEffect type="OnActive" target="Character" SpeedMultiplier="0.9" setvalue="true" />
        <StatusEffect type="OnUse" target="This">        
            <Sound file="%ModDir%/Sounds/EmptyGun.ogg" target="NearbyCharacters" range="500" />
        </StatusEffect>
    </Holdable>
    <Wearable slots="Bag" msg="ItemMsgEquipSelect" canbeselected="false" canbepicked="true" pickkey="Select">
        <sprite texture="%ModDir%/Items/Weapons.png" canbehiddenbyotherwearables="false" rotation="90" inheritlimbdepth="false" depth="0.6" sourcerect="0,164,290,72" limb="Torso" scale="0.4" origin="0.5,0.8" />
    </Wearable>
    <RangedWeapon reload="0.14" holdtrigger="true" barrelpos="140,38" spread="4" unskilledspread="16" combatPriority="80" drawhudwhenequipped="true" crosshairscale="0.2">
        <Crosshair texture="Content/Items/Weapons/Crosshairs.png" sourcerect="0,256,256,256" />
        <CrosshairPointer texture="Content/Items/Weapons/Crosshairs.png" sourcerect="256,256,256,256" />
        <!-- <ParticleEmitter particle="muzzleflash" particleamount="1" velocitymin="0" velocitymax="0" scalemultiplier="1.5,1.5" colormultiplier="255,200,200,30" /> -->
        <ParticleEmitter particle="Barrelsmoke" particleamount="1" velocitymin="50" velocitymax="100" scalemultiplier="1,1" copyentityangle="true" colormultiplier="180,180,180,150" />
        <ParticleEmitter particle="bubbles" particleamount="1" velocitymin="50" velocitymax="100" scalemultiplier="1,1" copyentityangle="true" colormultiplier="180,180,180,150" />
        <Sound file="%ModDir%/Sounds/ACR/ACRShot (1).ogg" type="OnUse" range="1800" selectionmode="Random" />
        <Sound file="%ModDir%/Sounds/ACR/ACRShot (2).ogg" type="OnUse" range="1800" />
        <Sound file="%ModDir%/Sounds/ACR/ACRShot (3).ogg" type="OnUse" range="1800" />
        <Sound file="%ModDir%/Sounds/ACR/ACRShot (4).ogg" type="OnUse" range="1800" />
        <Sound file="%ModDir%/Sounds/ACR/ACRShot (5).ogg" type="OnUse" range="1800" />
        <Sound file="%ModDir%/Sounds/ACR/ACRShot (6).ogg" type="OnUse" range="1800" />
        <StatusEffect type="OnUse" >
            <ParticleEmitter particle="Shells" particleamount="1" anglemin="70" anglemax="100" velocitymin="250" velocitymax="280" copyentityangle="true" scalemin="0.8" scalemax="0.8" />
            <Explosion range="80" force="1" shockwave="false" flash="false" smoke="false" flames="false" sparks="false" underwaterbubble="false" camerashake="10.0" />
        </StatusEffect>
        <StatusEffect type="OnUse" target="Contained">
            <Use />
        </StatusEffect>
        <RequiredItems items="roeBullet556" type="Contained" msg="ItemMsgAmmoRequired" />
        <RequiredSkill identifier="weapons" level="50" />
    </RangedWeapon>
    <ItemContainer capacity="1" maxstacksize="1" hideitems="false" showcontainedstateindicator="false" containedspritedepth="0.56">
        <Containable items="roeMagazine556" itempos="-7.2,-10" />
        <!-- <SlotIcon slotindex="0" texture="Content/UI/CampaignUIAtlas2.png" sourcerect="896,536,128,64" origin="0.45,0.5" /> -->
        <SlotIcon slotindex="1" texture="Content/UI/CampaignUIAtlas2.png" sourcerect="896,536,128,64" origin="0.45,0.5" />
        <SubContainer capacity="1" maxstacksize="1" >
            <Containable items="roeFlashlight,flashlight" hide="false" itempos="18,4.5" SetActive="True" />      
        </SubContainer>
    </ItemContainer>
    <LightComponent LightColor="0,255,0,255" Flicker="0.02" range="800" powerconsumption="0" allowingameediting="true" >
        <LightTexture texture="%ModDir%/Items/roeLaserLight.png" origin="0.01,0.5" size="1,0.05" depth="0.6" />  
    </LightComponent>
    <CustomInterface canbeselected="true" drawhudwhenequipped="true">
        <GuiFrame relativesize="0.12,0.12" anchor="BottomLeft" absoluteoffset="20,128" style="ItemUI" />
        <TickBox text="Tactical Laser">
            <StatusEffect Type="OnUse" Target="This"  IsOn="True" Stackable="False" />
            <StatusEffect Type="OnSecondaryUse" Target="This" IsOn="False" Stackable="False" />
        </TickBox>
    </CustomInterface>
  <aitarget sightrange="2000" soundrange="4000" fadeouttime="5" />
    <Quality>
        <QualityStat stattype="FirepowerMultiplier" value="0.1" />
    </Quality>
</Item>

<!-- MAGZINES -->

<Item name="" identifier="roeMagazine556" maxstacksize="2" scale="0.4" category="Weapon" subcategory="Ammunition" allowasextracargo="true" cargocontaineridentifier="metalcrate" linkable="true" tags="smallitem,assaultriflemag,magazine" impactsoundtag="impact_metal_light">
    <PreferredContainer primary="roeACR" minamount="1" maxamount="1" spawnprobability="1"/>
    <PreferredContainer primary="armcab" secondary="secarmcab"/>
    <Price baseprice="350" sold="false" minleveldifficulty="60" displaynonempty="true">
        <Price storeidentifier="merchantoutpost" multiplier="1.4" />
        <Price storeidentifier="merchantcity" multiplier="1.25" />
        <Price storeidentifier="merchantresearch" multiplier="1.25" />
        <Price storeidentifier="merchantmilitary" sold="true" multiplier="0.9" minavailable="0" maxavailable="4" />
        <Price storeidentifier="merchantmine" multiplier="1.25" />
    </Price>
    <Fabricate suitablefabricators="fabricator" requiredtime="35" >
        <RequiredSkill identifier="weapons" level="40" />
        <RequiredItem identifier="magnesium" />
        <RequiredItem identifier="lead" />
        <RequiredItem identifier="titaniumaluminiumalloy" />
    </Fabricate>
    <Deconstruct time="15">
        <Item identifier="lead" mincondition="0.95" />
        <Item identifier="titaniumaluminiumalloy" />
    </Deconstruct>
    <Sprite texture="%ModDir%/Items/Weapons.png" sourcerect="0,0,25,58" depth="0.55" origin="0.5,0.5" />
    <Body width="25" height="58" density="25" />
    <ItemContainer hideitems="true" capacity="1" maxstacksize="30" containedstateindicatorstyle="bullet" >
        <Containable items="roeBullet556" />
        <SlotIcon texture="Content/UI/ContainerIndicators.png" sourcerect="1,62,120,29" origin="0.5,0.5" />
    </ItemContainer>
    <Holdable canBeCombined="true" slots="Any,RightHand,LeftHand" handle1="0,0" msg="ItemMsgPickUpSelect" />
</Item>

<!-- BULLETS -->

<Item name="" identifier="roeBullet556" maxstacksize="60" category="Weapon" subcategory="Ammunition" interactthroughwalls="true" cargocontaineridentifier="metalcrate" tags="smallitem,assaultrifleammo,riflemanbonus,ammo,bullet" impactsoundtag="impact_metal_light" scale="0.17">
    <PreferredContainer primary="roeMagazine556" amount="30" spawnprobability="1"/>
    <PreferredContainer primary="armcab" secondary="secarmcab"/>
    <Fabricate suitablefabricators="fabricator" requiredtime="30" amount="30" >
        <RequiredSkill identifier="weapons" level="40" />
        <RequiredItem identifier="magnesium" amount="3" />
        <RequiredItem identifier="lead" amount="2"  />
        <RequiredItem identifier="steel" amount="2"  />
    </Fabricate>
    <Deconstruct time="15">
        <Item identifier="magnesium" amount="2" />
        <Item identifier="lead" />
    </Deconstruct>    
    <InventoryIcon texture="%ModDir%/Items/Icons.png" sourcerect="0,256,128,128" origin="0.5,0.5" />
    <Sprite texture="%ModDir%/Items/Weapons.png" sourcerect="0,68,64,11" depth="0.55" origin="0.5,0.5" />
    <Body width="64" height="11" density="30" />
    <Pickable slots="Any" msg="ItemMsgPickUpSelect" />
    <Projectile characterusable="false" hitscan="true" removeonhit="true">
        <ParticleEmitter particle="tracerfirearm" particleamount="1" velocitymin="0" velocitymax="0" colormultiplier="255,200,200,30" scalemultiplier="1,0.8" />
            <Attack structuredamage="10" targetforce="7.5" itemdamage="20" severlimbsprobability="0.2" penetration="0.2">
            <Affliction identifier="gunshotwound" strength="30" />
            <Affliction identifier="bleeding" strength="15" />
            <Affliction identifier="stun" strength="0.25" />
            <Affliction identifier="stun" strength="0.5" probability="0.2" />
            </Attack>
            <StatusEffect type="OnImpact" target="UseTarget">
                <ParticleEmitter particle="impactfirearm" particleamount="1" velocitymin="0" velocitymax="0" scalemultiplier="2,2" colormultiplier="255,200,200,50" />
            </StatusEffect>
        <StatusEffect type="OnImpact" target="UseTarget">
            <Conditional entitytype="eq Structure" />
            <Conditional hastag="eq door" />
            <ParticleEmitter particle="spark" copyentityangle="true" anglemin="-10" anglemax="10" particleamount="5" velocitymin="-10" velocitymax="-200" scalemin="0.5" scalemax="1" />
        </StatusEffect>
    </Projectile>  
</Item>
</Items>